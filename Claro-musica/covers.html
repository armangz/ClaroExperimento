<!--
	@license
	Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!doctype html>
<html>
<meta charset="utf-8">º

<head>
    <title>core-animated-pages</title>

    <script src="../bower_components/platform/platform.js"></script>
    <link href="../bower_components/core-animated-pages/core-animated-pages.html" rel="import">
    <link rel="import" href="../post-service/post-service.html">

    <style>
    body {
        font-family: 'Roboto 2', 'Helvetica Neue', Helvetica, Arial, sans-serif;
        margin: 0;
        background: #f1f1f1;
    }
    </style>
</head>

<body>

    <polymer-element name="music-demo">
        <template>

            <style>
            .chip-container {
                position: absolute;
                top: 0px;
                right: 0;
                left: 0;
                text-align: center;
            }
            .chip {
                display: inline-block;
                position: relative;
                border-radius: 3px;
                margin: 4px;
                overflow: hidden;
                text-align: start;
                background-color: #fff;
                box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16);
            }
            .chip-top {
                width: 180px;
                height: 180px;
            }
            .chip-bottom {
                padding: 8px;
                line-height: 1.5;
            }
            .chip-album-title {
                font-weight: bold;
            }
            #details {
                padding: 15% 0% 0;
            }
            .card {
                height: 300px;
                border-radius: 3px;
                text-align: start;
                overflow: hidden;
                background: #fff;
                box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            }
            .card-left {
                width: 300px;
            }
            .card-right {
                padding: 24px;
            }
            .card-icon {
                border-radius: 50%;
                width: 60px;
                height: 60px;
                margin-right: 16px;
            }
            .card-album-title {
                font-size: 2em;
            }
            </style>

            <post-service id="service" posts="{{posts}}">
    		</post-service>

            <core-animated-pages selected="{{page}}" transitions="hero-transition" on-core-animated-pages-transition-end="{{complete}}">

                <section>

                    <div class="chip-container" hero-p on-tap="{{transition}}">

                        <template repeat="{{posts as item}}">

                            <div class="chip" hero-id="{{item.artist}}-{{item.album}}" hero?="{{selectedAlbum === item }}">
                                <div class="chip-top" hero-id="{{item.artist}}-{{item.album}}-art" hero?="{{selectedAlbum === item}}">
                                    <img src="{{item.color}}"></img>
                                </div>
                            </div>

                        </template>

                    </div>
                </section>

                <section id="details" on-tap="{{transition}}">
                    <div class="card" layout horizontal hero-id="{{selectedAlbum.artist}}-{{selectedAlbum.album}}" hero>

                        <img class="card-left" hero-id="{{selectedAlbum.artist}}-{{selectedAlbum.album}}-art" hero src="{{selectedAlbum.color}}"></img>

                        <div class="card-right" flex>
                            <div layout horizontal center>
                                <div>
                                    <div class="card-icon" style="background-image:{{selectedAlbum.jdk}};"></div>
                                </div>
                                <div flex>
                                    <div class="card-album-title">{{selectedAlbum.album}}</div>
                                    <div class="card-album-artist">{{selectedAlbum.artist}}</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </section>

            </core-animated-pages>

        </template>
        <script>
        Polymer('music-demo', {

            page: 0,

            items: [{
                artist: ':D',
                album: 'Éxitos del Corona Capital',
                color: '../images/avatar-01.jpg'
            }, {
                artist: 'D:',
                album: 'Éxitos en el Tráfico',
                color: '../images/avatar-02.jpg'
            }, {
                artist: ':::',
                album: 'Éxitos en Inglés + Español',
                color: '../images/avatar-03.jpg'
            }, {
                artist: 'slls',
                album: 'Éxitos del Corona Capital',
                color: '../images/avatar-01.jpg'
            }, {
                artist: '',
                album: 'Éxitos en el Tráfico',
                color: '../images/avatar-02.jpg'
            }, {
                artist: '',
                album: 'Éxitos en Inglés + Español',
                color: '../images/avatar-03.jpg'
            }, {
                artist: '',
                album: 'Éxitos del Corona Capital',
                color: '../images/avatar-01.jpg'
            }, {
                artist: '',
                album: 'Éxitos en el Tráfico',
                color: '../images/avatar-02.jpg'
            }, {
                artist: '',
                album: 'Éxitos Latinos',
                color: '../images/avatar-04.jpg'
            }, {
                artist: '',
                album: 'Éxitos en Inglés + Español',
                color: '../images/avatar-03.jpg'
            }, {
                artist: '',
                album: 'Éxitos en Inglés + Español',
                color: '../images/avatar-03.jpg'
            }, {
                artist: '',
                album: 'Éxitos Latinos',
                color: '../images/avatar-04.jpg'
            }],

            selectedAlbum: null,

            transition: function(e) {
                if (this.page === 0 && e.target.templateInstance.model.item) {
                    this.selectedAlbum = e.target.templateInstance.model.item;
                    this.page = 1;
                } else {
                    this.page = 0;
                }
            }
        });
        </script>
    </polymer-element>

    <music-demo></music-demo>

</body>

</html>
